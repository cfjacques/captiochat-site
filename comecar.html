<!doctype html>
<html lang="pt-br">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CaptioChat – Começar</title>
<style>
:root{--bg:#0f172a;--fg:#e2e8f0;--muted:#94a3b8;--primary:#2563eb;--card:#0b1222;--border:rgba(255,255,255,.08)}
*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--fg)}
.nav{display:flex;align-items:center;justify-content:space-between;max-width:1100px;margin:16px auto;padding:0 16px}
.brand{display:flex;gap:10px;align-items:center;font-weight:800}
.brand img{width:28px;height:28px;border-radius:8px}
.link{color:#94a3b8;text-decoration:none;border:1px solid var(--border);padding:8px 12px;border-radius:10px}
.wrap{max-width:1100px;margin:28px auto;padding:0 16px}
h2{margin:4px 0 18px}
.row{display:flex;gap:10px;align-items:center;margin-bottom:18px}
input{background:#0b1222;border:1px solid var(--border);color:var(--fg);padding:10px 12px;border-radius:10px;width:240px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:16px;display:flex;gap:12px;align-items:flex-start}
.card h4{margin:4px 0 6px}
.muted{color:var(--muted)} .pill{font-size:12px;border:1px solid var(--border);padding:4px 8px;border-radius:999px;color:#a3e635}
.btn{margin-left:auto;background:var(--primary);color:#fff;border:0;border-radius:10px;padding:8px 12px;cursor:pointer}
.sep{height:1px;background:var(--border);margin:18px 0}
.icon{width:22px;height:22px}
</style>
<body>
  <div class="nav">
    <div class="brand"><a href="./"><img src="./assets/logo.png" alt="CaptioChat"/></a><span>CaptioChat</span></div>
    <a class="link" href="./">Voltar</a>
  </div>

  <div class="wrap">
    <h2>Onde você quer começar?</h2>
    <div class="row">
      <label>tenant_id&nbsp;</label>
      <input id="tenant" value="demo_show" placeholder="ex.: meu_cliente_1" />
    </div>

    <div class="grid">
      <!-- Instagram -->
      <div class="card">
        <svg class="icon" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="5" stroke="#e1306c" stroke-width="2"/><circle cx="12" cy="12" r="3.5" stroke="#e1306c" stroke-width="2"/><circle cx="17.5" cy="6.5" r="1.4" fill="#e1306c"/></svg>
        <div>
          <h4>Instagram</h4>
          <div class="muted">Conecte com a sua conta via Meta.</div>
          <div class="sep"></div><span class="pill">Disponível</span>
        </div>
        <button class="btn" onclick="go('instagram')">Conectar</button>
      </div>

      <!-- Facebook Messenger -->
      <div class="card">
        <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M12 3c5 0 9 3.7 9 8.2S17 19.4 12 19.4a8.7 8.7 0 0 1-3.1-.6L5 21l.9-3.5A8.3 8.3 0 0 1 3 11.2C3 6.7 7 3 12 3Z" stroke="#0084ff" stroke-width="2"/><path d="m8 13 3-3 2 2 3-3" stroke="#0084ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <div>
          <h4>Facebook Messenger</h4>
          <div class="muted">Habilite respostas e eventos da Página.</div>
          <div class="sep"></div><span class="pill">Disponível</span>
        </div>
        <button class="btn" onclick="go('messenger')">Conectar</button>
      </div>

      <!-- Em breve -->
      <div class="card"><div class="icon"></div><div><h4>WhatsApp</h4><div class="muted">Em breve.</div><div class="sep"></div><span class="pill" style="color:#fde047;border-color:#fde047;">Em breve</span></div><button class="btn" disabled>—</button></div>
      <div class="card"><div class="icon"></div><div><h4>TikTok</h4><div class="muted">Em breve.</div><div class="sep"></div><span class="pill" style="color:#fde047;border-color:#fde047;">Em breve</span></div><button class="btn" disabled>—</button></div>
      <div class="card"><div class="icon"></div><div><h4>Telegram</h4><div class="muted">Em breve.</div><div class="sep"></div><span class="pill" style="color:#fde047;border-color:#fde047;">Em breve</span></div><button class="btn" disabled>—</button></div>
    </div>
  </div>

  <script>
    // Sempre mande o origin para o backend, para que o "Voltar" e cancelamento retornem aqui
    function go(channel){
      const t = document.getElementById('tenant').value || 'demo_show';
      const origin = window.location.href;
      const url = 'https://app.captiochat.com/connect/meta'
        + '?tenant_id=' + encodeURIComponent(t)
        + '&channel=' + encodeURIComponent(channel)
        + '&origin='  + encodeURIComponent(origin);
      location.href = url;
    }
  </script>
</body>
</html>
